@model IEnumerable<BezvizSystem.Web.Models.Mark.ViewMarkModel>

@{
    ViewBag.Title = "Отметка о прибытии";
    ViewBag.SubTitle = "Отметка о прибытии";
}

@{ Html.RenderPartial("GroupData", Model); }


@section scripts
{
    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

    <script>

        function onClickInfo(e) {

            var target = e.target;
            if (target.tagName == 'INPUT') {

                var divInfo = document.getElementById("visitorInfo");
                var mark = checkMark(divInfo);

                var id = target.getAttribute("dataId");
                var value = target.checked;

                $.ajax({
                 url: '@Url.Action("Edit")?id=' + id + "&arrived=" + value
                });
            }
        };

        //var table = document.getElementsByTagName('table')[0];
        //table.onclick = onRowClickHandler;

        function onRowClickHandler(event) {
            var target = event.target;

            while (target.tagName != "TABLE") {
                if (target.tagName == "TR") {
                    var id = target.getAttribute('id');

                    location.href = '@Url.Action("ShowVisitors", "Mark")/' + id;
                    return;
                }
                target = target.parentNode;
            }
        }

    </script>
}



